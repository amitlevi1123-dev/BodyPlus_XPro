# =============================================================================
# deadlift.barbell.conventional.yaml â€” ×“×“×œ×™×¤×˜ ×¨×’×™×œ ×¢× ××•×˜ (Conventional Barbell)
# × ×ª×™×‘: exercises/packs/hinge/barbell/deadlift.barbell.conventional.yaml
# -----------------------------------------------------------------------------
# ××™×™×—×“ ×”×•×•×¨×™×× ×˜:
# â€¢ ×¦×™×•×“: ××•×˜ (barbell)
# â€¢ ××¦×‘ ×¤×ª×™×—×”: from_floor â€” ×”×ª×—×œ×” ××”×¨×¦×¤×”
# â€¢ ROM ×–×•×•×™×ª×™ (×™×¨×š/×’×•) ×¢× ×™×¢×“×™ ×•×¨×™×× ×˜ ××¢×˜ ×§×©×™×—×™× ××”×‘×¡×™×¡
# â€¢ Top Policy: full_lockout â€” ×¦×™×•×Ÿ ××œ× ×¨×§ ×× ×™×© × ×¢×™×œ×” ××œ××” + ×¢×¦×™×¨×” ×§×¦×¨×” (â‰¥0.30s)
# â€¢ ×ª×‘× ×™×ª Hinge (×œ× ×¡×§×•×•××˜), ×™×™×©×•×¨ ×‘×¨×šâ€“×›×£-×¨×’×œ, ×¢×§×‘×™× × ×¢×•×¦×™×.
# =============================================================================

meta:
  id: "deadlift.barbell.conventional"
  family: "hinge"
  display_name: "Deadlift â€” Barbell (Conventional)"
  selectable: true
  version: 1.0.0

  # ×”×•×•×¨×™×× ×˜ ×“×•×¨×© × ×¢×™×œ×” ××œ××”; ×”-base ××¡×¤×§ hooks ×œ××“×™× ×™×•×ª Top
  lockout_mode: "full_lockout"

  # ××¦×‘ ×¤×ª×™×—×”: ××”×¨×¦×¤×” (××›×ª×™×‘ ×¤××–×•×ª ×•×™×¢×“×™ ROM ××ª×•×š ×”-base)
  start_mode: "from_floor"

  # ×¦×™×•×“ ××–×•×”×”
  equipment: "barbell"

  notes: >
    ×“×“×œ×™×¤×˜ ×§×•× ×‘× ×¦×™×•× ×œ×™ ××”××•×˜ ×¢×œ ×”×¨×¦×¤×”. ×“×’×©×™×: ×’×‘ × ×™×˜×¨×œ×™ ×œ××•×¨×š ×›×œ ×”×ª× ×•×¢×”,
    ×™×—×¡ Hinge ×‘×¨×•×¨ (×’×• ××•×˜×” ×§×“×™××” ×•×‘×¨×š ×¤×ª×•×—×” ×™×—×¡×™×ª), ×”×¨××” ×—×œ×§×”, ×•× ×¢×™×œ×” ××œ××”
    ×¢× ×¢×¦×™×¨×” ×§×¦×¨×” ×‘×¢××™×“×” ×›×“×™ ×œ××©×¨ ×¡×’×™×¨×ª ×—×–×¨×”. ×”-ROM ××—×•×©×‘ ××–×•×•×™×•×ª (Hip/Torso);
    object_y ××©××© ×¢×–×¨ ×‘×œ×‘×“ ×œ××¡×œ×•×œ/××’×¢ ×× ×–××™×Ÿ.

# =============================================================================
# ğŸ§­ ×¨××–×™× ×œ××¡×•×•×’ (Classifier Hints)
# -----------------------------------------------------------------------------
# ×¢×•×–×¨×™× ×œ×‘×—×•×¨ ××ª ×”×•×•×¨×™×× ×˜ ×”× ×›×•×Ÿ ×‘×ª×•×š ××©×¤×—×ª hinge:
# - ×—×™×™×‘×™× ×–×™×”×•×™ ×¤×•×–×”
# - ×¢×“×™×¤×•×ª ×œ×–×™×”×•×™ ××•×˜ ×•×œ×¢×•×‘×“×” ×©×”×¦×™×•×“ ×”×•× barbell
# - ×–×•×•×™×•×ª ×¦×™×œ×•× ××•×¢×“×¤×•×ª: ×¦×“/××œ×›×¡×•×Ÿ ×§×“××™
# =============================================================================
match_hints:
  must_have: [pose.available]
  any_of: [objdet.bar_present, objdet.object_present]
  ranges:
    objdet.object_kind: ["barbell"]     # ××¦×¤×™× ×œ××•×˜
  pose_view: ["side", "front_left", "front_right"]
  motion_pattern: ["hip_hinge"]
  joints_focus: ["hips", "spine", "knees"]
  weight: 1.0

# =============================================================================
# ğŸ¯ ×”×ª×××•×ª ×™×¢×“×™ ROM ×œ×•×•×¨×™×× ×˜ (××¢×œ ×”-base)
# =============================================================================
targets:
  from_floor:
    hip_deg:   62      # ×™×¢×“ ROM ×‘×™×¨×š (××™× ×™××•× ×œ×©×§×œ×•×œ ××œ×)
    torso_deg: 36      # ×™×¢×“ ROM ×‘×’×•

# =============================================================================
# â±ï¸ ×—×œ×•× ×•×ª ×˜××¤×• ×•×”×—×–×§×” (Guidelines)
# -----------------------------------------------------------------------------
# ××œ×” ×—×œ×•× ×•×ª ××•×¢×“×¤×™× â€” ×”× ×™×§×•×“ ××ª×‘×¦×¢ ×“×¨×š ×”×§×¨×™×˜×¨×™×•× ×™× ×‘-base.
# =============================================================================
tempo_targets:
  rep_t_s:   [1.2, 4.0]   # ×–××Ÿ ×—×–×¨×” ×›×•×œ×œ
  ecc_s:     [0.8, 3.0]   # ×™×¨×™×“×”
  con_s:     [0.6, 2.5]   # ×¢×œ×™×™×”
  pause_bot: [0.0, 0.8]   # ×¡×˜-××¤ ×§×¦×¨ ××•×ª×¨ ×‘×ª×—×ª×™×ª
  pause_top: [0.30, 1.0]  # ×“×¨×•×©×” ×¢×¦×™×¨×” ×§×¦×¨×” â‰¥0.30s ×œ× ×¢×™×œ×” ××œ××”

# =============================================================================
# ğŸ¦¶ ×× ×— ×¨×’×œ×™×™× (Guidelines)
# =============================================================================
stance_targets:
  stance_width_ratio: [0.85, 1.15]      # ×§×¨×•×‘-×œ×›×ª×¤×™×™×
  toe_angle_deg:      [5, 20]           # ×¤×™×©×•×Ÿ ×§×œ
  knee_toe_alignment_ok_abs_deg: 5      # |×¡×˜×™×™×”| â‰¤ 5Â° ×™×¢×“

# =============================================================================
# ğŸ” ×”×¢×“×¤×•×ª ×–×™×”×•×™ ×—×–×¨×•×ª/×¤××–×•×ª
# -----------------------------------------------------------------------------
# ×”-ROM ×•×”×¤××–×•×ª ××–×•×”×™× ××–×•×•×™×•×ª (Hip/Torso). object_y ×¢×–×¨ ×œ××’×¢/××¡×œ×•×œ ×‘×œ×‘×“.
# =============================================================================
rep_detection_hints:
  prefer_angles: true
  use_object_y_as_aux: true

# =============================================================================
# âœ… ××“×™× ×™×•×ª Top ×¡×¤×¦×™×¤×™×ª â€” Full Lockout
# -----------------------------------------------------------------------------
# ××›×¤×™×œ×™× ×¨×›×™× ×”×—×œ×™× ×¢×œ ×¦×™×•×Ÿ ×”×œ×™×‘×” (××—×¨×™ weighted_mean + Safety Caps ××”-base).
# ×¢×™×§×¨×•×Ÿ: ×¦×™×•×Ÿ ××œ× ×¨×§ ×¢× × ×¢×™×œ×” ××œ××” + ×¢×¦×™×¨×” ×§×¦×¨×”; ××—×¨×ª ×¦×™×•×Ÿ ××•×¤×—×ª ×™×—×¡×™×ª.
# =============================================================================
policy:
  lockout:
    full:
      hold_s_min: 0.30                 # ×¢×¦×™×¨×” ×§×¦×¨×” ×œ××™××•×ª ×¢××™×“×” ××œ××”
      spine_max_deg: 10                # ×’×‘ × ×™×˜×¨×œ×™
      head_line_max_deg: 10            # |head_pitch - torso_forward|
      torso_forward_top_max_deg: 15    # ×’×• ×›××¢×˜ ×–×§×•×£
      heels_ok: true
      multiplier: 1.00
    almost:
      hold_s_min: 0.15
      spine_max_deg: 10
      head_line_max_deg: 10
      heels_ok: true
      multiplier: 0.92
    clean_no_hold:
      hold_s_min: 0.00
      spine_max_deg: 10
      head_line_max_deg: 10
      heels_ok: true
      multiplier: 0.85
    bad:
      multiplier: 0.70

# =============================================================================
# ğŸ§® ×¤×•×¡×˜-×¢×™×‘×•×“ ×¦×™×•×Ÿ (Rep)
# -----------------------------------------------------------------------------
# rep_score = rep_score_core * lockout_multiplier
# (rep_score_core ×›×‘×¨ ×›×•×œ×œ ×ª×§×¨×•×ª ×‘×˜×™×—×•×ª ×œ×¤×™ spine/knee ×•×›×•')
# =============================================================================
post:
  apply_lockout_policy: true

# =============================================================================
# ğŸ“£ ×—×™×•×•×˜ ××©×¤×˜×™× (phrases) â€” ×™×™×¢×•×“×™ ×œ×•×•×¨×™×× ×˜
# -----------------------------------------------------------------------------
# ××¦×‘×™×¢×™× ×œ××¨×—×‘ ×”××•×ª×× ×‘-phrases.yaml: hinge.conventional.*
# =============================================================================
phrases:
  namespace: "hinge.conventional"

  lockout_map:
    full:          "hinge.conventional.lockout.rep_full"
    almost:        "hinge.conventional.lockout.rep_almost"
    clean_no_hold: "hinge.conventional.lockout.rep_no_hold_clean"
    bad:           "hinge.conventional.lockout.rep_bad"

  set_map:
    last_rep_no_full_lockout: "hinge.conventional.set.last_rep_no_full_lockout"

  # ×™×¨×•×©×” ×©×œ ××¤×•×ª ROM/Turn/Path ××”-base (hinge.common.*)
  inherit_common_maps: true

# =============================================================================
# ğŸ§ª ×‘×“×™×§×•×ª ××•××œ×¦×•×ª (×ª×™×¢×•×“×™)
# =============================================================================
qa_notes:
  - "×”×©×•×•×” ×¡×˜ ×¢× ×”×—×–×§×ª â‰¥0.30s ×‘×˜×•×¤ ××•×œ ×¡×˜ ×œ×œ× ×¢×¦×™×¨×” â€” ×”××•×œ×˜×™ ×××•×¨ ×œ×”×™×•×ª 1.00 ×œ×¢×•××ª 0.85/0.92."
  - "×•×“× ×©×¡×¤×™×¨×” ×¢×•××“×ª ×¢×œ ROM ××–×•×•×™×•×ª ×’× ×œ×œ× object_y."
  - "×‘×“×•×§ knee_toe_alignment ×œ× ×—×•×¨×’ ×-Â±5Â°."
  - "×•×“× spine_flexion × ××•×š ×œ××•×¨×š ×›×œ ×”×—×–×¨×” (× ×™×˜×¨×œ×™)."
  - "×‘×“×•×§ ×©××™×Ÿ bounce ×‘×§×¨×§×¢ â€” turn ×¦×¨×™×š ×œ×”×™×•×ª ×—×œ×§."
