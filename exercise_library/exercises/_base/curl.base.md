מושלם 👌
הנה גרסת ה־**Markdown המלאה והנגישה** של איפיון משפחת **כפיפות המרפק (Curl)** —
ללא קוד בכלל, רק תיאור טכני ברור, עם תוספת של:

* מהם **המדדים לפי מה המערכת מודדת בפועל**,
* מה **קריטי למדידה אמינה**,
* ומה יקרה אם חסרים מדדים חשובים (כלומר — “לא נמדד”).

---

# 🦾 איפיון משפחת כפיפות מרפק (Curl / Elbow Flexion)

---

## 🎯 מטרת המשפחה

משפחת **כפיפות המרפק (Curl)** נועדה למדוד ולנתח את איכות ביצוע התרגילים השייכים אליה —
כמו **Dumbbell Curl**, **EZ-Bar Curl**, **Hammer Curl**, **Cable Curl**, **Preacher Curl**, **Incline Curl**, ועוד.

המערכת אינה מסתפקת בספירה של חזרות בלבד, אלא מודדת את **איכות התנועה בפועל**,
בהתאם למאפיינים ביומכניים אמיתיים.

---

## 🧠 עקרונות ביומכניים

| רכיב               | הסבר                                         | חשיבות למדידה                         |
| ------------------ | -------------------------------------------- | ------------------------------------- |
| **שריר עיקרי**     | Biceps Brachii                               | אחראי על כפיפת מרפק וסופינציה של האמה |
| **שרירים מסייעים** | Brachialis, Brachioradialis                  | מסייעים ביציבות ושליטה                |
| **מפרקים מעורבים** | מרפק, כתף, שורש כף יד                        | שלושתם חשובים לזיהוי תנועה נקייה      |
| **מטרה תנועתית**   | כפיפה במרפק בלבד, ללא תנועת כתף או תנופה בגב | זה מה שהמערכת בודקת בפועל             |

---

## 🧩 טווח תנועה (ROM)

| שלב                           | טווח זווית במעלות | תיאור                       |
| ----------------------------- | ----------------- | --------------------------- |
| **התחלה**                     | 175–180°          | זרוע כמעט ישרה              |
| **סוף (כפיפה מלאה)**          | 30–40°            | כף היד כמעט נוגעת בכתף      |
| **טווח תנועה מלא אנטומי**     | ≈150°             | התנועה המלאה האפשרית        |
| **טווח תנועה אפקטיבי לאימון** | 90–110°           | טווח שמדד בפועל במכוני כושר |

> כדי שחזרה תיספר, חייב להיות שינוי של לפחות **25°** במפרק המרפק.

---

## 🧍 יציבה (Posture)

המערכת אינה דורשת עמידה דווקא, אלא **יציבות גוף כללית** (נייחות).
כל עוד הגוף נשאר יציב – המדידה תקפה גם בעמידה וגם בישיבה.

| חלק גוף    | דרישה                                | מדד שנבדק                                         |
| ---------- | ------------------------------------ | ------------------------------------------------- |
| **גו**     | יציב, ללא תנופה קדימה או אחורה       | נמדד לפי שינוי בזווית `torso_forward_deg`         |
| **כתפיים** | אינן נעות קדימה בזמן הכפיפה          | נמדד לפי `shoulder_flexion_deg`                   |
| **ברכיים** | כפיפה קלה (5–10°) לשיווי משקל בעמידה | נמדד לפי `knee_left/right_deg`                    |
| **ראש**    | נשאר מיושר עם עמוד השדרה             | נמדד לפי `head_pitch_deg` מול `torso_forward_deg` |

> תנועה בגב או “נענוע” של הגוף תגרום להורדת ציון באופן אוטומטי.

---

## ✋ אחיזה ושורש כף היד

| פרמטר                 | טווח תקין             | הסבר                           |
| --------------------- | --------------------- | ------------------------------ |
| **רוחב אחיזה**        | ‎0.9–1.2× רוחב כתפיים | בסיס יציב ונוח                 |
| **כיפוף שורש כף היד** | ‎-10° עד +15°         | כיפוף יתר נחשב טעות            |
| **סיבוב כף היד**      | לפי סוג התרגיל        | Supinated, Neutral או Pronated |

> המדידה של שורש כף היד נועדה למנוע עומס לא טבעי או אחיזה שגויה.

---

## ⏱️ טמפו (Tempo)

| שלב              | טווח זמן מומלץ | משמעות             |
| ---------------- | -------------- | ------------------ |
| עלייה (כפיפה)    | ‎0.5–1.0 שניות | שליטה והרמה מדויקת |
| ירידה (יישור)    | ‎1.2–2.0 שניות | תנועה מבוקרת       |
| עצירה למעלה      | ‎0–0.5 שניות   | מניעת תנופה        |
| משך כולל של חזרה | ‎0.8–2.5 שניות | טווח תקין          |

> חזרה מהירה מדי או איטית מדי תוריד ניקוד.

---

## 🔁 ספירת חזרות

המערכת סופרת חזרות על בסיס שינוי זווית המרפק והשלמת מחזור מלא של תנועה.

| שלב            | תנאי                                              | מה נחשב                       |
| -------------- | ------------------------------------------------- | ----------------------------- |
| **Ready**      | זווית יציבה של מרפק ~175° (או תנוחה קבועה בישיבה) | מצב המתנה לתחילת תנועה אמיתית |
| **Start**      | שינוי של ≥5° במרפק בזמן קצר                       | התחלת חזרה אמיתית             |
| **Active Rep** | צבירת ROM של ≥25°                                 | נמדדת חזרה פעילה              |
| **Turn**       | שינוי כיוון ראשון בתנועה (כפיפה → יישור)          | שלב המעבר                     |
| **Complete**   | חזרה לנקודת ההתחלה ±10°                           | חזרה נרשמת כמלאה              |

> תנועה קצרה או רועדת לא תיספר, גם אם נראית כמו חזרה.

---

## ⚖️ ניקוד איכות (Scoring)

הניקוד מתבסס על שילוב של עומק תנועה, יציבות, טמפו, ושליטה תנועתית.

| קטגוריה                  | מה נבדק בפועל             | משקל חשיבות     |
| ------------------------ | ------------------------- | --------------- |
| **טווח תנועה (ROM)**     | שינוי הזווית במרפק        | גבוה מאוד (2.0) |
| **תנועת כתף קדימה**      | תנועה לא רצויה בזמן כפיפה | גבוה (1.2)      |
| **סווינג בגו**           | שינוי פתאומי או תנופה     | גבוה (1.4)      |
| **טמפו**                 | משך החזרה                 | בינוני (0.6)    |
| **שליטה כללית בתנועה**   | תנועה חלקה, לא מהירה מדי  | בינוני (0.6)    |
| **כיפוף שורש כף היד**    | שמירה על אחיזה ניטרלית    | נמוך (0.3)      |
| **ברכיים רכות (בעמידה)** | שיפור שיווי משקל          | נמוך (0.2)      |

> טווח תנועה אמיתי ויציבות גו הם **הגורמים המרכזיים לציון גבוה**.

---

## 🧱 תקרות בטיחות

| מצב                            | תקרת ציון |
| ------------------------------ | --------- |
| תנועה מהגב / תנופה             | ‎0.85     |
| ROM חלקי במרפק                 | ‎0.85     |
| חוסר יישור ראש־גו              | ‎0.90     |
| אחיזה או שורש כף היד לא ניטרלי | ‎0.90     |

---

## 🧭 זיהוי אוטומטי של התרגיל

| רמז                  | תיאור                                                                |
| -------------------- | -------------------------------------------------------------------- |
| **Pose Detection**   | חייב להיות שלד מזוהה (`pose.available = true`)                       |
| **Object Detection** | זיהוי ציוד: Dumbbell / Bar / Cable                                   |
| **Pose View**        | מצלמה קדמית או קדמית־צידית                                           |
| **Fallback**         | אם זוויות המרפק אינן יציבות — נשתמש ב־`hands_center_y` או `object_y` |

---

## ⚙️ לפי מה המערכת מודדת בפועל

| תחום                 | מדדים נדרשים                                                                        |
| -------------------- | ----------------------------------------------------------------------------------- |
| **מרפק**             | `elbow_left_deg`, `elbow_right_deg` – חובה למדידת ROM                               |
| **כתף**              | `shoulder_left_deg`, `shoulder_right_deg` – חובה כדי לוודא שהתנועה לא מהכתף         |
| **גו**               | `torso_forward_deg`, `spine_flexion_deg` – חובה למניעת סווינג                       |
| **ראש**              | `head_pitch_deg` – לשמירה על יישור ראש־גו                                           |
| **שורש כף היד**      | `wrist_flex_ext_left/right_deg` (רצוי גם `wrist_radial_ulnar_*`) – לא חובה אך מומלץ |
| **ברכיים**           | `knee_left_deg`, `knee_right_deg` – רק בעמידה, למדידת יציבות                        |
| **Fallback (גיבוי)** | `hands_center_y`, `object_y` – למקרה שחסרות זוויות מדויקות                          |

---

## ❗ מה קריטי למדידה (בלעדיהם לא נמדד כלל)

1. **זוויות מרפק** — חובה למדוד לפחות צד אחד (`elbow_left/right_deg`).
2. **זוויות כתף** — נדרשות כדי להבדיל תנועה אמיתית מתנועה עם כתף.
3. **זווית גו** — חובה למדוד (`torso_forward_deg` או `spine_flexion_deg`) כדי למנוע ספירה על תנופה.
4. **נוכחות Pose** — חובה ש־`pose.available = true`.
5. **אם כל שלושת המדדים הנ”ל חסרים** → לא תתבצע מדידה כלל.

---

## 🏋️‍♀️ תרגילים במשפחה

| תרגיל                  | אחיזה               | תכונות עיקריות               |
| ---------------------- | ------------------- | ---------------------------- |
| **Dumbbell Curl**      | Supinated           | תנועה חופשית, סופינציה טבעית |
| **EZ-Bar Curl**        | Semi-Supinated      | מפחית עומס על פרק כף היד     |
| **Cable Curl**         | Neutral / Supinated | מתח אחיד לכל אורך התנועה     |
| **Preacher Curl**      | Supinated           | בידוד כתף, טווח קצר יותר     |
| **Incline Curl**       | Supinated           | עבודה על אורך השריר          |
| **Hammer Curl**        | Neutral             | דגש על brachioradialis       |
| **Concentration Curl** | Supinated           | בידוד מקסימלי ביד אחת        |

---

## 🚀 שיפורים עתידיים

| תחום                  | הצעה לשיפור                                                   | תועלת צפויה                  |
| --------------------- | ------------------------------------------------------------- | ---------------------------- |
| **מדידת שורש כף היד** | הוספת מדד לכיפוף וסיבוב (radial/ulnar)                        | לזהות עומס או אחיזה לא תקינה |
| **סימטריה בין ידיים** | השוואה בין ימין לשמאל                                         | גילוי חוסר איזון             |
| **פידבק בזמן אמת**    | הודעות קוליות או חזותיות (“תוריד את הקצב”, “אל תנדנד את הגב”) | משוב מיידי למשתמש            |
| **Posture Index**     | מדד יציבות מצטבר לאורך כל החזרה                               | הערכה מדויקת של שליטה בגוף   |
| **Adaptive ROM**      | התאמת טווח תנועה לפי זווית הכתף (ל־Preacher/Incline)          | מדידה ריאליסטית לפי וריאציה  |

---

## 💬 סיכום

מערכת ה־**Curl Family** מודדת ביצועי תרגילי בייספס בצורה חכמה ומציאותית:
היא בודקת *מהיכן מגיעה התנועה*, *האם יש שליטה אמיתית*, *האם הגב נשאר יציב*,
*האם המרפק הוא שמבצע את העבודה*, והאם התנועה עומדת בטווח תקין.

המדדים הקריטיים למדידה הם **זוויות המרפק, הכתף והגו**,
והם מהווים את הליבה של כל החישובים.

ביחד עם בקרה על **טמפו, שורש כף יד, ויציבות כללית**,
המערכת מספקת הערכה קרובה מאוד לאבחנה של מאמן מקצועי.

---

רוצה שאמשיך לגרסה הזו את ה־`curl.base.yaml` תואם (בלי קוד, אלא מיפוי טכני של מה הקריטריונים, אילו נדרשים, ואילו רשות)?
