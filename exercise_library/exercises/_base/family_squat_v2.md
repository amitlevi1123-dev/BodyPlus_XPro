בוודאי 👇 הנה כל התוכן של קובץ ה־Markdown (בלי קוד, פשוט לקריאה ושמירה):

---

# 🧩 משפחת Squat — מפרט מלא (v2)

**מטרה:**
להעריך את איכות ובטיחות תנועת הסקוואט בצורה מקצועית, מותאמת אישית ובעלת ערך למשתמש.
הדגש הוא על טכניקה בטוחה, שליטה יציבה, ופידבק חכם שמדריך ולא מעניש.

---

## 1️⃣ עקרונות כלליים

* **בטיחות תחילה** – עגילת גב, קריסת ברכיים ועיקום צדדי נחשבים חריגים חמורים.
* **שונות טבעית מותרת** – נטיית גב קדימה, זווית רגליים ופתיחת ירכיים שונות בין אנשים – לא להעניש עליהן.
* **תגמול חכם** – ככל שהירידה מבוקרת ועמוקה יותר עד 90°, הציון עולה. מעבר ל־90° לא מוסיף.
* **עקבים נעוצים** – חובה לשמור על מגע עקבים. אם הם עולים – ניתנת התראה וציון יורד קלות.
* **מבט וראש** – הראש בקו עם עמוד השדרה, מבט קדימה, לא למטה או למעלה.
* **כפות רגליים** – פתוחות החוצה קלות (8–20°), לא ענישה אלא הדרכה.
* **פידבק תמידי** – גם כשאין בעיות המשתמש יקבל פידבק חיובי (“ביצוע מצוין”).

---

## 2️⃣ מדדים נדרשים

* עגילת גב – spine_flexion_deg
* עיקום צדדי – spine_curvature_side_deg
* ולגוס בברכיים – knee_foot_alignment_left/right_deg
* עומק סקוואט – knee_left/right_deg
* רוחב עמידה – features.stance_width_ratio
* זווית כפות רגליים – toe_angle_left/right_deg
* תנוחת ראש/צוואר – head_pitch_deg
* עקבים נעוצים – heel_lift_left/right
* טמפו – rep.timing_s
* דורסיפלקשן (פידבק בלבד) – ankle_dorsi_left/right_deg
* נטיית גו (פידבק בלבד) – torso_forward_deg
* כשירות מדידה – pose.available, pose.confidence, average_visibility

---

## 3️⃣ קריטריונים וציון

### 🛡️ בטיחות (60%)

| קריטריון      | טווח טוב | בינוני | גרוע | משקל |
| ------------- | -------- | ------ | ---- | ---- |
| עגילת גב      | ≤10°     | 10–20° | ≥35° | 2.0  |
| ולגוס בברכיים | ≤5°      | 5–10°  | ≥20° | 2.0  |
| עיקום צדדי    | ≤5°      | 5–10°  | ≥20° | 1.5  |

> חריגה באחד מהם מפעילה Safety Cap שמגבילה את הציון הכללי.

---

### ⚙️ טכניקה (40%)

| קריטריון                | טווח טוב       | בינוני                | גרוע         | משקל |
| ----------------------- | -------------- | --------------------- | ------------ | ---- |
| עומק סקוואט             | עד 90° = מושלם | 90–150° = יורד בהדרגה | ≥150° = גרוע | 1.2  |
| רוחב עמידה              | 0.9–1.2        | 0.8–1.3               | <0.7 / >1.5  | 0.8  |
| זווית כפות רגליים       | 8–20°          | 0–8° / 20–30°         | <0° / >30°   | 0.8  |
| יישור ראש לצוואר        | ≤10°           | 10–20°                | ≥30°         | 0.8  |
| עקבים נעוצים            | 0 = נעוץ       | —                     | 1 = מורם     | 0.6  |
| קצב חזרה                | 0.7–2.5s       | 0.5–3.5s              | <0.4 / >4.0  | 0.5  |
| דורסיפלקשן (פידבק בלבד) | ≥25°           | 15–25°                | <15°         | 0.3  |

---

## 4️⃣ ציון כללי

* שיטת שקלול: weighted_mean
* קריטריונים חסרים: skip
* דרישת מינימום לציון אמין: לפחות 3 קריטריונים
* אין Grade (A/B/C), רק ציון מספרי כולל בשם score.overall

---

## 5️⃣ תקרות בטיחות (Safety Caps)

| תנאי                 | הגבלת ציון |
| -------------------- | ---------- |
| spine_rounding ≤ 0.6 | cap = 0.70 |
| knee_valgus ≤ 0.6    | cap = 0.75 |
| spine_sidebend ≤ 0.6 | cap = 0.80 |

---

## 6️⃣ רמזי זיהוי

* must_have: pose.available
* pose_view: front / front_left / front_right
* motion_pattern: hip_down, knee_flexion
* joints_focus: hips, knees, spine

---

## 7️⃣ פידבק מרכזי (לאחרי סט)

* אם spine_flexion_deg>20° → “שמור על גב נייטרלי – אל תרד מעבר לנקודה שבה הגב מתעגל.”
* אם knee_valgus>10° → “הברכיים נקרסות פנימה – דחוף אותן החוצה לאורך הירידה.”
* אם toe_angle<8° → “סובב מעט את כפות הרגליים החוצה ליציבות טובה יותר.”
* אם head_alignment>20° → “הראש לא בקו עם הגב – שמור על מבט קדימה.”
* אם heel_lift_left/right=1 → “העקבים עולים – שמור עקב נעוץ בקרקע.”
* אם ankle_dorsi_min<15° → “גמישות הקרסול מוגבלת – תרגילי דורסיפלקשן ישפרו עומק.”
* אם depth≈90° & spine_flexion≤10° → “עומק מצוין עם גב נייטרלי – ביצוע מקצועי.”

---

## 8️⃣ עקרונות סופיים

* עומק עד 90° = ציון מלא.
* מעבר ל־90° לא מוסיף ציון.
* בעיות בטיחות מגבילות את הציון הכללי.
* עקבים חייבים להישאר נעוצים בקרקע.
* גם כשהכול תקין מוצג פידבק חיובי.
* הניסוחים נייטרליים ומתאימים לשפה קולית בעתיד.

---

**הערה:**
קובץ זה הוא הבסיס לכל גרסאות הסקוואט (Bodyweight, Goblet, Barbell).
כל וריאנט יורש ממנו ומשנה רק פרטים קטנים כמו טמפו או עומק יעד.
