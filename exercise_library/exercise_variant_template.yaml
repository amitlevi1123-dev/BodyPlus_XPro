# -*- coding: utf-8 -*-
# ===================================================================
# ğŸ‹ï¸ exercise_variant_template.yaml â€” ×ª×‘× ×™×ª ×œ×•×•×¨×™×× ×˜ ×ª×¨×’×™×œ ×‘××©×¤×—×”
# ===================================================================
# ×ª×¤×§×™×“: ×œ×”×’×“×™×¨ "×ª×¨×’×™×œ ×¡×¤×¦×™×¤×™" ×©×™×•×¨×© ××ª ×—×•×§×™ ×”××©×¤×—×” (base) ×•××•×¡×™×£:
#  â€¢ ×¦×™×•×“ (meta.equipment)
#  â€¢ ×¨××–×™ ×–×™×”×•×™ ×œ××¡×•×•×’ (match_hints)
#  â€¢ ×”×ª×××•×ª scoring ×××•×§×“×•×ª (×× ×¦×¨×™×š)
#  â€¢ (××•×¤×¦×™×•× ×œ×™) ××™×ª×•×ª ×—×–×¨×•×ª ×©×•× ×” (rep_signal)
#
# ×”×™×›×Ÿ ×œ×©×™×?
# exercise_library/exercises/packs/<pack>/<family>/<exercise_id>.yaml
# ×œ×“×•×’××”:
#   packs/bodyweight/squat/squat_bodyweight.yaml
#   packs/dumbbell/squat/squat_dumbbell.yaml
#   packs/barbell/squat/squat_barbell.yaml
# ===================================================================

# ××–×”×” ×™×™×—×•×“×™ ×œ×ª×¨×’×™×œ
id: <family>.<variant>                  # ×“×•×’××”: squat.bodyweight

# ×©× ×”××©×¤×—×”
family: <family>                        # ×“×•×’××”: squat

# ×™×¨×•×©×” ××”×§×•×‘×¥ ×”×‘×¡×™×¡×™ ×©×œ ×”××©×¤×—×”
extends: <family>.base                  # ×“×•×’××”: squat.base

meta:
  selectable: true                      # ×•×¨×™×× ×˜ × ×‘×—×¨ ×‘×¤×•×¢×œ
  display_name: "<Nice Name>"           # ×“×•×’××”: "Bodyweight Squat"
  equipment: "<none|dumbbell|barbell|kettlebell>"  # ×—×©×•×‘: ×‘×× ×’×œ×™×ª

# -------------------------------------------------------------------
# ğŸ§­ ×¨××–×™ ×–×™×”×•×™ ×œ××¡×•×•×’ (×–×” ××” ×©×××¤×©×¨ "×–×” ×”×ª×¨×’×™×œ ×”×–×”")
# -------------------------------------------------------------------
# â€¢ must_have: ××¤×ª×—×•×ª ×©×—×™×™×‘×™× ×œ×”×™×•×ª truthy ×‘Ö¾payload (×§× ×•× ×™ ×œ×¤×™ aliases.yaml)
# â€¢ must_not_have: ×× ××—×“ ××”× truthy â†’ ×”××•×¢××“ × ×¤×¡×œ
# â€¢ any_of: ××¡×¤×™×§ ×©××—×“ truthy ×›×“×™ ×œ×§×‘×œ × ×§' ×”×ª×××”
# â€¢ ranges: ×˜×•×•×—×™× × ×•××¨×™×™× ×©×××¤×™×™× ×™× ××ª ×”×ª×¨×’×™×œ (×œ× ×—×•×‘×”)
# â€¢ pose_view: ×–×•×•×™×•×ª ××¦×œ××” ×ª×§×¤×•×ª ("front","front_left","front_right"â€¦)
# â€¢ weight: ×× ×™×© ×›××” ××•×¢××“×™× ×§×¨×•×‘×™×, ××¤×©×¨ ×œ×—×–×§/×œ×”×—×œ×™×© ××ª ×”×•×•×¨×™×× ×˜
match_hints:
  must_have: [pose.available]
  must_not_have: []
  any_of: []
  ranges: {}
  pose_view: ["front", "front_left", "front_right"]
  weight: 1.0

# -------------------------------------------------------------------
# âš–ï¸ ×“×¨×™×¡×•×ª scoring (××•×¤×¦×™×•× ×œ×™) â€” ×¨×§ ×× ×¦×¨×™×š ×œ×©× ×•×ª ××”Ö¾base
# -------------------------------------------------------------------
# ×”× ×•×¡×— ××ª×™×™×©×¨ ×œ××‘× ×” scoring ×©×œ ×”Ö¾base:
# scoring:
#   policy: ...           # × ×“×™×¨ ×©×¦×¨×™×š ×œ×’×¢×ª
#   criteria:
#     <criterion_name>:
#       weight: <float>   # ×©×™× ×•×™ ××©×§×œ
#       rule:             # ×©×™× ×•×™ ×›×œ×œ (×¡×¤×™×/×§×œ×˜ ×©×•× ×”/×›×™×•×•×Ÿ)
#         kind: ...
#         input: ...
#         ...
#   safety_caps: [...]    # ×× ×¦×¨×™×š ×§××¤ × ×•×¡×£/×©×•× ×” (×–×”×™×¨!)
#   aggregate: ...        # ×‘×“"×› ×œ× ××©× ×™×
scoring:
  criteria:
    # ×“×•×’××” 1: ×”×ª×××ª ×¢×•××§ â€” (×œ× ×—×•×‘×”, ×¨×§ ×× ×¨×•×¦×™× ×œ×©× ×•×ª ×¡×¤×™×)
    # depth:
    #   rule:
    #     kind: threshold_window
    #     input: "min(knee_left_deg, knee_right_deg)"
    #     target_max: 90
    #     cutoff_max: 150
    #     direction: lower_is_better

    # ×“×•×’××” 2: ×”×¢×œ××ª ××©×§×œ ×œ×˜××¤×• ×‘×•×•×¨×™×× ×˜ ××¡×•×™×
    # tempo:
    #   weight: 0.7

    # ×“×•×’××” 3: ×”×—×œ×¤×ª ×§×œ×˜ ×¢×•××§ (×œ×ª×¨×’×™×œ ×¢×œ×™×•×Ÿ, ×œ××©×œ ××¨×¤×§×™× ×‘××§×•× ×‘×¨×›×™×™×)
    # depth:
    #   rule:
    #     kind: threshold_window
    #     input: "min(elbow_left_deg, elbow_right_deg)"
    #     target_min: 45
    #     cutoff_min: 20
    #     direction: higher_is_better

  # safety_caps: []  # ×‘×“"×› × ×©××¨ ××”Ö¾base. ×©× ×” ×‘×–×”×™×¨×•×ª ×× ×™×© ×”×¦×“×§×”.

# -------------------------------------------------------------------
# ğŸ” ××™×ª×•×ª ×—×–×¨×•×ª (××•×¤×¦×™×•× ×œ×™) â€” ×× ×”×•×•×¨×™×× ×˜ ×“×•×¨×© ×œ×•×’×™×§×” ××—×¨×ª
# -------------------------------------------------------------------
# rep_signal:
#   source: "value|min|wrist_left_y_px,wrist_right_y_px"
#   thresholds:
#     min_rom_good: 30
#     min_rep_ms: 400
#     max_rep_ms: 6000
