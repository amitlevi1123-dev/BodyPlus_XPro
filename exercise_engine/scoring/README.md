××¢×•×œ×”. ×”× ×” **××™×¤×™×•×Ÿ ××œ×, ×›×œ×œ×™ ×•×œ×›×œ ×”×ª×¨×’×™×œ×™×** â€” ×›×•×œ×œ ××‘× ×” × ×ª×•× ×™×, ×–×¨×™××”, ×—×•×–×™×, ×•×“×’×©×™× ×œ×”×¦×’×” â€œ×¡×•×¤×¨-××¤×•×¨×˜×ªâ€ ×‘×¨××ª ×¡×˜ ×•×‘×¨××ª ×—×–×¨×” (per-rep), ×¢× ×©×™×œ×•×‘ **××©×¤×—×” (base)** + **×•×¨×™××¦×™×” (variant)**, ×©×™××•×© ×‘-`aliases.yaml` ×•-`phrases.yaml`, ×•×¡×“×¨×™ ×¢×“×™×¤×•×™×•×ª ×‘×¨×•×¨×™×. ××¤×©×¨ ×œ×©××•×¨ ×›-
`docs/REPORTS_AND_AUTO_DETAIL.md` (××•××œ×¥), ××• ×œ×¤×¦×œ ×œ×¤×™ ×”×¦×¢×ª ×”××‘× ×” ×‘×¡×•×£.

---

# ğŸ“‘ Auto-Detail Reports v2 â€” ××™×¤×™×•×Ÿ ××¢×¨×›×ª ×”×“×•"×—×•×ª ×”××¤×•×¨×˜×™×

××¡××š ×–×” ××’×“×™×¨ **××™×š ×œ×‘× ×•×ª ×•×œ×”×¦×™×’ ×“×•×´×— ×¢×©×™×¨, ×××™×Ÿ ×•×¨×œ×•×•× ×˜×™** ×œ×›×œ ×ª×¨×’×™×œ, ××‘×œ×™ ×œ×’×¢×ª ×™×“× ×™×ª ×‘×›×œ ×§×•×‘×¥ ×ª×¨×’×™×œ. ×”×œ×•×’×™×§×” ×©×•××‘×ª ××•×˜×•××˜×™×ª ××ª ×”××“×“×™× ×•×”×™×¢×“×™× ×-**base+variant**, ×× ×¨××œ×ª ×‘×¢×–×¨×ª `aliases.yaml`, ×™×•×¦×¨×ª ×˜×‘×œ×ª ×¢×¨×›×™× â€œ×§×¨×™×˜×™×™× + ×¨×œ×•×•× ×˜×™×™×â€, ×•××™×™×¦×¨×ª ××©×¤×˜×™× ×§×¦×¨×™× ××ª×•×š `phrases.yaml`. ×‘× ×•×¡×£ â€” ×ª××™×›×” ××œ××” ×‘-**×ª×¦×•×’×ª ×—×–×¨×•×ª (per-rep)**.

---

## ğŸ¯ ××˜×¨×•×ª

* **×××™× ×•×ª ×•××§×¦×•×¢×™×•×ª**: ××¦×™×’×™× ××¡×¤×¨×™× ×××™×ª×™×™× (××¢×œ×•×ª/×©× ×™×•×ª/×™×—×¡×™×) + ×™×¢×“ ×œ×”×©×•×•××”.
* **×¨×œ×•×•× ×˜×™×•×ª ×—×›××”**: ×‘×—×™×¨×ª ××“×“×™× ××ª×•×š `criteria.requires` ×©×œ ×”×ª×¨×’×™×œ (base+variant) â€” ×œ× ××¦×™×’×™× â€œ×™×“×™×™× ×‘×ª×¨×’×™×œ ×¨×’×œ×™×™×â€.
* **×©×¤×” ××—×™×“×”**: ××©×¤×˜×™× ×§×¦×¨×™× ××ª×•×š `phrases.yaml` (×›×•×œ×œ placeholders).
* **×¡×§×™×™×œ ×œ×›×œ ×”×ª×¨×’×™×œ×™×**: ×¢×•×‘×“ ×œ×›×œ ×ª×¨×’×™×œ ×©×™×© ×œ×• YAML (×’× ×¢× `inherits` ××¨×•×‘×•×ª).
* **per-rep ×××™×ª×™**: ×œ×›×œ ×—×–×¨×” â€” ×˜××¤×•, ROM, ×–×•×•×™×•×ª ×¨×œ×•×•× ×˜×™×•×ª, ×“×’×œ×™×, ×•×˜×§×¡×˜.

---

## ğŸ§­ ××™×§×•× ×‘×–×¨×™××”

```
aliases.normalize  â†’  loader.resolve(base+variant)  â†’  scoring (optional)
                              â”‚
                              â””â”€â†’ build_auto_metrics_detail()
                                           â”‚
                                 report_builder.attach()
                                           â”‚
                                   Admin UI (Set + Rep views)
```

* **×œ× ××—×œ×™×£** ××ª ×× ×•×¢ ×”×¦×™×•×Ÿ â€” ××•×¡×™×£ ×¢×œ×™×• ×©×›×‘×ª â€œ×¤×¨×˜×™ ××“×™×“×”â€ ×œ×”×¦×’×”.
* ×× ×”×¦×™×•×Ÿ ×œ× ×¨×¥ (×œ××©×œ × ×™×ª×•×— offline) â€” ××¤×©×¨ ×œ×”×¦×™×’ ×¨×§ ××ª ×”-Auto-Detail.

---

## ğŸ“¦ ×¢×§×¨×•× ×•×ª × ×ª×•× ×™×

### 1) ×¨×–×•×œ×•×¦×™×™×ª Base+Variant

* ×˜×•×¢× ×™× ××ª ×”-variant YAML.
* ×¢×•×§×‘×™× ××—×¨×™ `inherits` ×¢×“ ×”-base (××¤×©×¨ ×›××” ×©×›×‘×•×ª).
* ×××—×“×™×:

  * `targets`: ×”-variant **×’×•×‘×¨** ×¢×œ ×”-base.
  * `criteria`: ×××—×“×™× ×œ×¤×™ ××–×”×”; ×”-variant **×’×•×‘×¨** ×¢×œ ×©×“×•×ª ×§×™×™××™× (weight/rule/enable_when).
  * `phrases.namespace`: × ×¢×“×™×£ namespace ×©×œ ×”-variant, ××—×¨×ª ×©×œ ×”-base, ××—×¨×ª ×§×˜×’×•×¨×™×•×ª ×›×œ×œ×™×•×ª.

### 2) × ×™×¨××•×œ ×©××•×ª (aliases)

* ×›×œ ××¤×ª×— ××—×•×œ×¥ ×“×¨×š `aliases.yaml` â†’ **×©× ×§× ×•× ×™** + **×™×—×™×“×”**.
* ×”×ª×™×™×—×¡×•×ª ×œ×˜×•×œ×¨× ×¡×™× (`tolerances`) ×¨×§ ×œ×¦×•×¨×š ×§×•× ×¤×œ×™×§×˜×™×/××™×–×•×’ ×¢×¨×›×™×.

### 3) ×‘×—×™×¨×ª â€œ××•×¢××“×™× ×œ×”×¦×’×”â€

* **×¨×©×™××ª requires** ××›×œ ×”-criteria (base+variant).
* **Core ×§×‘×•×¢×™×** (×× ×§×™×™××™× ×‘×¤×•×¢×œ):
  `torso_forward_deg`, `spine_flexion_deg`, `features.stance_width_ratio`,
  `rep.timing_s` / `rep.ecc_s` / `rep.con_s`,
  ×œ××“×“×™ lower: `knee_*_deg`, `hip_*_deg`, `knee_foot_alignment_*_deg`.
* ×¡×™× ×•×Ÿ ×›×¤×™×œ×•×™×•×ª; ××¦×™×’×™× **×¨×§** ××” ×©×§×™×™× ×‘×¤×•×¢×œ ×‘-`metrics`.

---

## ğŸ§° ×¤×•× ×§×¦×™×” ××¨×›×–×™×ª (×—×•×–×”)

> (×ª×™×¢×•×“ ××™×¤×™×•× ×™ â€” ×”××™××•×© ×™×‘×•× ××—×¨ ×›×š)

**`build_auto_metrics_detail(exercise_id, metrics) -> dict`**

×§×œ×˜:

* `exercise_id: str`
* `metrics: dict` (×¤×™×™×œ×•×“ ××“×™×“×” ××–×§×™×£/×× ×•×¢ ×”×—×–×¨×•×ª/×–×™×”×•×™)

×¤×œ×˜ (× ×•×¡×£ ×œ×“×•×´×— ×ª×—×ª `metrics_detail`):

```json
{
  "exercise": { "id": "family.variant", "family": "family", "namespace": "ns.variant|ns.family|general" },
  "phases":   { "rep_s": 1.82, "ecc_s": 0.92, "con_s": 0.90, "approx": false },
  "targets":  { "rep_time_s_min": 0.7, "rep_time_s_max": 2.5, "elbow_rom_deg_target": 90 },
  "core":     [ { "key": "torso_forward_deg", "label": "×–×•×•×™×ª ×’×‘ ××•×œ ×× ×š", "value": 8.0, "unit": "Â°" }, ... ],
  "relevant": [ { "key": "elbow_left_deg", "label": "××¨×¤×§ ×©×××œ", "value": 62.0, "unit": "Â°", "weight": 1.0 }, ... ],
  "sentences":[ "×§×¦×‘ ××¦×•×™×Ÿ â€” 1.82s (×™×¨×™×“×” 0.92s / ×¢×œ×™×™×” 0.90s).", "ROM 78Â° â€” ×›×•×•×Ÿ ×œâ‰ˆ90Â°." ],
  "audit":    {
    "source": "variant+base+defaults",
    "criteria_seen": ["tempo","range_of_motion","posture", "..."],
    "keys_seen": ["rep.timing_s","elbow_left_deg","spine_flexion_deg"]
  }
}
```

×”×¢×¨×•×ª:

* **×œ× ××¦×™×¤×™×** ××¤×ª×— ×©×œ× ×§×™×™× ×‘×¤×•×¢×œ ×‘××“×™×“×”.
* `phases.approx=true` ×× × ×’×–×¨ ECC/CON ×‘×¦×•×¨×” ××©×•×¢×¨×ª (×œ××©×œ ××—×œ×§ ×™×—×¡×™).

---

## ğŸ¯ Targets â€” ×”×™×¨×¨×›×™×™×ª ×™×¢×“×™×

1. ×™×¢×“×™× ×©×”×•×’×“×¨×• ×‘-**variant**
2. ×™×¢×“×™× ××”-**base**
3. ×× ××™×Ÿ â€” ××¦×™×’×™× ×¢×¨×›×™ ××™×“×¢ ×œ×œ× â€œ×™×¢×“â€

×™×¢×“×™× ×˜×™×¤×•×¡×™×™× ×œ×”×¦×’×”:

* **Tempo**: `rep_time_s_min/max`, `fast_cutoff_s`, `min_turn_ms`
* **ROM**: `*_rom_deg_target/partial/cutoff`
* **Posture/Spine**: `*_ok/warn/bad`
* **Stance/Valgus**: `min_ok/max_ok`, `ok_deg/warn_deg/bad_deg`

---

## ğŸ—‚ï¸ ×¡×“×¨×™ ×¢×“×™×¤×•×™×•×ª ×œ×”×¦×’×”

* **Core (×ª××™×“×™×™×)** â€” ×× ×§×™×™××™× ×‘××“×™×“×”.
* **Relevant** â€” ××“×“×™× ××ª×•×š `criteria.requires`:

  1. ××¡×•×“×¨×™× ×œ×¤×™ **weight** (×× ×™×© ×‘-`scoring.criteria`), ××”×’×‘×•×” ×œ× ××•×š.
  2. ×”×©××¨ â€” ××œ×¤×‘×™×ª×™×ª.
* **×œ× ××¦×™×’×™×** ××ª ××” ×©×œ× × ××“×“ ×‘×¤×•×¢×œ (××™×Ÿ â€œ×—×•×¨×™×â€ ××‘×œ×‘×œ×™×).

---

## ğŸ§© ××©×¤×˜×™× (Phrases)

* ×—×™×¤×•×© ×œ×¤×™ ×¡×“×¨: `variant.namespace` â†’ `base.namespace` â†’ ×§×˜×’×•×¨×™×•×ª ×›×œ×œ×™×•×ª (`tempo`, `range_of_motion`, `posture`, `spine_rounding`, `knee_alignment`, â€¦).
* ×‘×—×™×¨×” ×—×›××” ×‘×™×Ÿ `rep_good` / `rep_weak` / `rep_missing` ×‘×”×ª×× ×œ×¢×¨×š ××•×œ ×”×™×¢×“.
* ××™×œ×•×™ placeholders ××ª×•×š:

  * `metrics_detail.phases` (×œ××©×œ `rep_s`, `ecc_s`, `con_s`)
  * `metrics_detail.targets` (×œ××©×œ `min_s`, `max_s`, `target_deg`)
  * ×¢×¨×›×™× ×-`core/relevant` (×œ××©×œ `knee_min_deg`, `valgus_deg`, â€¦)

> ×›×œ×œ ×–×”×‘: 3â€“6 ××©×¤×˜×™× ×§×¦×¨×™×, ×¢× ×™×™× ×™×™×, **×œ×œ× ×¡×¤××**.

×“×•×’××”:

* â€œ×§×¦×‘ ××¦×•×™×Ÿ â€” ×‘×ª×•×š ×”×™×¢×“ (1.84s; 0.98s/0.86s).â€
* â€œROM 78Â° â€” ×›×•×•×Ÿ ×œâ‰ˆ90Â°.â€
* â€œ×–×•×•×™×ª ×’×‘ 14Â° â€” ×‘×˜×•×•×— ×ª×§×™×Ÿ.â€
* â€œ×§×¨×™×¡×” ×¤× ×™××” ×‘×‘×¨×š {{valgus_deg}}Â° â€” ×“×—×•×£ ×”×—×•×¦×”.â€

---

## ğŸ“Š ×¤×•×¨××˜ ×ª×¦×•×’×” (UI)

### ×›×•×ª×¨×ª ×§×¦×¨×” (×¡×˜)

* **Tempo**: `1.84s` Â· `0.98s â†“` / `0.86s â†‘`  *(×¡×™××Ÿ ×—×¥ ×¢×“×™×Ÿ ×‘×œ×‘×“)*
* ×× `approx`: ×ª×•×•×™×ª ×§×˜× ×” â€œâ‰ˆâ€ ×œ×™×“ ×”-ECC/CON.

### Core (×˜×‘×œ×” ×§×•××¤×§×˜×™×ª)

| ğŸ” ××“×“           | ×¢×¨×š     |
| ---------------- | ------- |
| ×–×•×•×™×ª ×’×‘ ××•×œ ×× ×š | 8Â°      |
| ×¢×’×™×œ×ª ×’×‘ (×¤×œ×©×Ÿ)  | 6Â°      |
| ×¨×•×—×‘ ×¢××™×“×”       | 1.05Ã—SW |

### Relevant (×˜×‘×œ×” ×œ×¤×™ ×—×©×™×‘×•×ª)

| ğŸ¯ ××“×“ (×§×¨×™×˜×¨×™×•×Ÿ) | ×¢×¨×š | ×™×¢×“/×˜×•×•×—         |
| ----------------- | --- | ---------------- |
| ROM ×—×–×¨×” (××¨×¤×§)   | 78Â° | â‰ˆ90Â°             |
| ×›×ª×£ ××§×¡×³          | 22Â° | â‰¤10Â° (××–×”×¨×” 15Â°) |
| ×©×•×¨×© ×›×£ ×™×“ ××§×¡×³   | 12Â° | Â±15Â°             |

> **×¡××œ×™×**: ×œ×”×©×ª××© ×‘××¢×˜ â€” ğŸ”, ğŸ¯ ×‘×œ×‘×“ (×§×¨×™×, ×œ× ××¦×•×¢×¦×¢).

### Sentences (×¨×©×™××”)

* 3â€“6 ××©×¤×˜×™× ××”Ö¾`phrases`, ×œ×¤×™ ×”×§×¨×™×˜×¨×™×•× ×™× ×”×›×™ ×—×©×•×‘×™×.

### ×›×¤×ª×•×¨ â€œAuditâ€

* ×¤×•×ª×— ××•×“××œ ×§×˜×Ÿ ×¢× `criteria_seen`, `keys_seen`, ×•-`source` (â€œvariant+base+defaultsâ€).

---

## ğŸ” ×ª×¦×•×’×ª ×—×–×¨×•×ª (Per-Rep)

×›×œ ×—×–×¨×” ××§×‘×œ×ª ××‘× ×” ×“×•××”, **×¨×§ ×××•×–×¢×¨**:

```json
"rep_detail": {
  "rep_id": 4,
  "phases": { "rep_s": 1.76, "ecc_s": 0.95, "con_s": 0.81, "approx": false },
  "angles": [
    { "key":"knee_left_deg_min",  "label":"×‘×¨×š ×©×××œ (××™× ×³)", "value": 84.0,  "unit":"Â°" },
    { "key":"knee_right_deg_min", "label":"×‘×¨×š ×™××™×Ÿ (××™× ×³)", "value": 86.0,  "unit":"Â°" },
    { "key":"torso_forward_deg_max","label":"×’×‘ (××§×¡×³)",     "value": 16.0,  "unit":"Â°" }
  ],
  "rom": { "rep.rom": 78.0, "unit":"Â°" },
  "flags": { "quality": "good|fast|slow|short|incomplete", "warnings": ["auto_target_used"] },
  "sentences": [ "×§×¦×‘ ×ª×§×™×Ÿ", "ROM 78Â° â€” ×›××¢×˜ ×™×¢×“" ]
}
```

×›×œ×œ×™ per-rep:

* **ROM**: ×-`rep.rom` ×× ×§×™×™×; ××• × ×’×–×¨×ª (×× ×™×© ×¤×•×œ×™×’×•× ×™× ×©×œ ××¤×¨×§ ××•×‘×™×œ ×‘××•×ª×• ×ª×¨×’×™×œ).
* **Angles**: ×¨×§ **××¤×ª×—×•×ª ×¨×œ×•×•× ×˜×™×™× ×œ×ª×¨×’×™×œ** (×-`criteria.requires` ×©×œ base+variant).
  × ×¦×™×’ min/max ×œ×¤×™ ×”×™×’×™×•×Ÿ (×œ××©×œ ×¢×•××§ â€” ××™× ×™××•× ×‘×¨×š; ×’×‘ â€” ××§×¡×³ ×”×˜×™×”).
* **Tempo**: `rep.timing_s`, ×•×× ×™×© â€” `rep.ecc_s`/`rep.con_s`.
* **Flags**: ×-`rep.quality` ×•-`rep.errors.*`/`rep.warnings.*`.
* **Phrases**: ×§×¦×¨×¦×¨ â€” ×œ×›×œ ×—×–×¨×” ×¢×“ 2â€“3 ×©×•×¨×•×ª.

UI:

* ×¨×©×™××ª ×—×–×¨×•×ª ×‘×¦×“, ×‘×—×™×¨×” ×¤×•×ª×—×ª ×›×¨×˜×™×¡ ×¢× ×”×˜×‘×œ×” ×”××•×§×˜× ×ª (×›××• ×œ×¢×™×œ).
* ××¤×©×¨×•×ª â€œ×”×¢×ª×§×”â€ ×©×œ ×›×¨×˜×™×¡ ×—×–×¨×” ×œ-clipboard (×˜×§×¡×˜×•××œ×™).

---

## ğŸ§± â€œ×ª××™×“ ××ª×•×¢×“×™×â€ (Core ×§×‘×•×¢×™×)

×× ×§×™×™××™× ×‘×¤×•×¢×œ:

* ×™×¦×™×‘×”/×’×‘: `torso_forward_deg`, `spine_flexion_deg`
* ×˜××¤×•: `rep.timing_s` Â± `rep.ecc_s`/`rep.con_s`
* ×¢××™×“×”: `features.stance_width_ratio`
* Lower: `knee_*_deg`, `hip_*_deg`, `knee_foot_alignment_*_deg`

> ×œ× ××¦×™×’×™× â€œ×—×¡×¨â€. ××¦×™×’×™× **×¨×§** ××” ×©×™×©.

---

## ğŸ”’ ×›×œ×œ×™× ×©××‘×˜×™×—×™× â€œ××§×¦×•×¢×™×•×ªâ€

* **×œ× ××¦×™×¤×™×** ××“×“×™× ×œ× ×¨×œ×•×•× ×˜×™×™× ×œ×ª×¨×’×™×œ (× ×©×¢× ×™× ×¢×œ `criteria.requires`).
* **×”×¦×’×ª ×™×¢×“ ×™×—×“ ×¢× ×¢×¨×š** ×›×©×–××™×Ÿ: â€œ78Â° (×™×¢×“ â‰ˆ90Â°)â€.
* **×©×¤×”** ××ª×•×š `phrases.yaml` ×‘×œ×‘×“ (××—×™×“×•×ª; placeholders ××•×œ××• ×‘×¢×¨×›×™×).
* **Audit** ×–××™×Ÿ ×‘×œ×—×™×¦×” â€” ×©×§×™×¤×•×ª ××œ××”.

---

## ğŸ§ª ×”×ª×××” ×œ×× ×•×¢ ×”×¦×™×•× ×™× (×œ× ×—×•×‘×” ×œ×¨×•×¥ ×™×—×“)

* ×× ×¨×¥ Scoring â€” × ×™×ª×Ÿ ×œ×©×œ×‘ ×¢××“×”: ×‘×©×•×¨×ª ×”-Relevant ×œ×”×¨××•×ª ×’× `score_pct` ×œ×™×“ ×”×§×¨×™×˜×¨×™×•× ×™× ×”×—×©×•×‘×™× (×§×˜×Ÿ ×•×¢×“×™×Ÿ).
* ×× ×œ× ×¨×¥ â€” Auto-Detail ×¢×•××“ ×‘×¤× ×™ ×¢×¦××•.

---

## ğŸ§± ×—×•×–×™× ×‘×™×Ÿ ×©×›×‘×•×ª (×ª×§×¦×™×¨)

| ×©×›×‘×”           | ×—×•×–×”                                                                                                        |
| -------------- | ----------------------------------------------------------------------------------------------------------- |
| Loader         | `resolve(exercise_id) -> {base+variant merged}` ×›×•×œ×œ `criteria`, `targets`, `phrases.namespace`, `inherits` |
| Aliases        | `normalize(metrics) -> canonical` + `units` + `tolerances`                                                  |
| Auto-Detail    | `build_auto_metrics_detail(exercise_id, metrics) -> dict`                                                   |
| Report Builder | `attach(detail)` ××œ ×“×•×´×— ×”×¡×˜/×”×—×–×¨×”                                                                          |
| UI             | ××¨× ×“×¨ `phases / core / relevant / sentences` + per-rep                                                      |

---

## ğŸ“ ×”×™×›×Ÿ ×œ×©×™× ××ª ×”×§×•×“/××¡××›×™×

××•××œ×¥:

```
exercise_engine/
  reporting/
    auto_detail.py          # build_auto_metrics_detail(...)
    labels.py               # ××™×¤×•×™ label+unit ×œ×©××•×ª ×§× ×•× ×™×™× (×˜×‘×œ×” ×§×˜× ×”)
    selectors.py            # ×œ×•×’×™×§×ª ×‘×—×™×¨×ª keys (criteria.requires + Core)
    targets.py              # ××™×–×•×’ Targets ×-base+variant
    phrases.py              # ××™×ª×•×¨ namespace + ××™×œ×•×™ placeholders
    README.md               # (××¡××š ×–×” ××§×•×¦×¨) ××• ×§×™×©×•×¨
```

×•×‘× ×•×¡×£:

* ×¢×“×›×•×Ÿ ×§×˜×Ÿ ×œ-`report/report_builder.py` ×›×“×™ ×œ×¦×¨×£ `metrics_detail` ×œ-payload.
* ×‘-Admin UI:

  * ×ª×¦×•×’×ª ×¡×˜: Phases + Core + Relevant + Sentences + Audit
  * ×ª×¦×•×’×ª per-rep: ×¨×©×™××ª ×—×–×¨×•×ª â†’ ×›×¨×˜×™×¡ ×—×–×¨×”

---

## ğŸ§¾ ×“×•×’××ª JSON â€” ×¡×˜ ××œ× (×ª×§×¦×™×¨)

```json
{
  "set_id": 12,
  "exercise_id": "squat.bodyweight",
  "metrics": { "...": "..." },
  "metrics_detail": {
    "exercise": { "id": "squat.bodyweight", "family": "squat", "namespace": "squat.bodyweight|squat.common" },
    "phases":   { "rep_s": 2.02, "ecc_s": 1.22, "con_s": 0.80, "approx": false },
    "targets":  { "rep_time_s_min": 1.5, "rep_time_s_max": 3.5, "knee_min_deg_target": 95 },
    "core":     [
      { "key":"torso_forward_deg", "label":"×–×•×•×™×ª ×’×‘ ××•×œ ×× ×š", "value": 12.0, "unit":"Â°" },
      { "key":"spine_flexion_deg", "label":"×¢×’×™×œ×ª ×’×‘ (×¤×œ×©×Ÿ)", "value": 7.0, "unit":"Â°" }
    ],
    "relevant": [
      { "key":"knee_left_deg_min", "label":"×‘×¨×š ×©×××œ (××™× ×³)", "value": 92.0, "unit":"Â°", "weight":1.5 },
      { "key":"knee_right_deg_min","label":"×‘×¨×š ×™××™×Ÿ (××™× ×³)", "value": 94.0, "unit":"Â°", "weight":1.5 },
      { "key":"features.stance_width_ratio","label":"×¨×•×—×‘ ×¢××™×“×”","value":1.08,"unit":"Ã—SW","weight":0.6 }
    ],
    "sentences":[
      "×§×¦×‘ ××¦×•×™×Ÿ â€” 2.02s (1.22s/0.80s).",
      "×”×¢×•××§ ×›××¢×˜ ×™×¢×“: 92Â°â€“94Â°; ×›×•×•×Ÿ ×œâ‰ˆ90Â°.",
      "×¨×•×—×‘ ×¢××™×“×” 1.08Ã— â€” ×‘×ª×•×š ×”×˜×•×•×— 0.9â€“1.2."
    ],
    "audit": { "source":"variant+base+defaults", "criteria_seen":["tempo","depth","stance_width"], "keys_seen":["knee_left_deg","knee_right_deg","rep.timing_s"] }
  },
  "reps": [
    {
      "rep_id": 1,
      "rep_detail": {
        "phases": { "rep_s": 2.10, "ecc_s": 1.25, "con_s": 0.85, "approx": false },
        "angles": [
          { "key":"knee_left_deg_min", "label":"×‘×¨×š ×©×××œ (××™× ×³)", "value": 90.0, "unit":"Â°" },
          { "key":"knee_right_deg_min","label":"×‘×¨×š ×™××™×Ÿ (××™× ×³)", "value": 93.0, "unit":"Â°" },
          { "key":"torso_forward_deg_max","label":"×’×‘ (××§×¡×³)", "value": 15.0, "unit":"Â°" }
        ],
        "rom": { "rep.rom": 85.0, "unit":"Â°" },
        "flags": { "quality":"good", "warnings":[] },
        "sentences":[ "×§×¦×‘ ×‘×ª×•×š ×”×™×¢×“.", "×¢×•××§ ××¦×•×™×Ÿ (90Â°â€“93Â°)." ]
      }
    }
  ]
}
```

---

## ğŸ§© ×”× ×—×™×•×ª ×¢×™×¦×•×‘ (UI)

* **× ×™×§×™×•×Ÿ ×•×—×™×¡×›×•×Ÿ**: 3â€“6 ××©×¤×˜×™×; ×˜×‘×œ××•×ª ×§×•××¤×§×˜×™×•×ª; ×¡××œ×™× ××™× ×™××œ×™×™× (ğŸ”, ğŸ¯).
* **××¡×¤×¨×™× ×œ×¤× ×™ ×”×›×œ**: ×‘×›×œ ×©×•×¨×” â€” ×”×¢×¨×š ×”××¡×¤×¨×™ ×§×•×“×, ×”×™×¢×“ ××—×¨×™×•.
* **×ª×•×•×™×•×ª ×™×—×™×“×”**: `Â°`, `s`, `Ã—SW`.
* **×ª×™×¢×“×•×£ ×œ×¤×™ ×—×©×™×‘×•×ª**: ×§×•×“× Core, ××—×´×› Relevant ×œ×¤×™ weight.
* **×ª×¦×•×’×ª per-rep**: ×’×œ×¨×™×” ×©×œ ×—×–×¨×•×ª ×× ×•×•×˜×ª, ×›×¨×˜×™×¡ × ×§×™ ×œ×›×œ ×—×–×¨×”.

---

## âœ… ×‘×“×™×§×•×ª ×§×‘×œ×” (Acceptance)

* **×œ×›×œ ×ª×¨×’×™×œ** ×©×™×© ×œ×• YAML: × ×‘× ×™×ª ×¨×©×™××ª Relevant ××ª×•×š `criteria.requires` ×”×××•×—×“×™× (base+variant).
* **×œ× ××•×¦×’×™×** ××“×“×™× ×©××™× × ×§×™×™××™× ×‘-`metrics`.
* **Targets ×××•×—×“×™×** ×•×¨×§ ××– ××•×¦×’×™×.
* **Phases**: ×× ×—×¡×¨ ECC/CON â€” ××•×¤×™×¢ `approx=true` ×•×¡×™××•×Ÿ â€œâ‰ˆâ€.
* **Phrases**: ×œ×¤×—×•×ª 2, ×¢×“ 6; ×‘×œ×™ ×§×˜×’×•×¨×™×” ××ª××™××” â†’ ××“×œ×’×™× (×œ× ××¦×™×¤×™× ×˜×§×¡×˜ ×›×œ×œ×™ ××“×™).
* **Audit**: ×©×§×™×¤×•×ª ××œ××” â€” ××” ×¨××™× ×•, ×•××” ××§×•×¨ ×”×¢×¨×›×™×/×”×™×¢×“×™×.

---

## ğŸ—ºï¸ Roadmap ×§×¦×¨

* Phase 2: ×”×¦×’×ª **score_pct** ×¢×“×™×Ÿ ×œ×™×“ ×©×•×¨×•×ª ×¨×œ×•×•× ×˜×™×•×ª ×›×©×× ×•×¢ ×”×¦×™×•× ×™× ×¤×¢×™×œ.
* Phase 3: ×”×¨×—×‘×ª per-rep ×¢× ×’×¨×£ ××™× ×™ (××™× ×™-×¡×¤×¨×§) ×œ-ECC/CON/ROM.
* Phase 4: â€œExport Repâ€ â€” ×™×¦×•× ×›×¨×˜×™×¡ ×—×–×¨×” ×œ-JSON/CSV.

---

×× ×–×” ×˜×•×‘ ×œ×š, ××’×‘×© ××ª ×–×” ×œ-`README.md` ×™×™×¢×•×“×™ + ×©×œ×“ ×§×‘×¦×™× (namespaces ×œ×¢×™×œ) ×›×“×™ ×©×ª×•×›×œ **×œ×”×“×‘×™×§ ×œ×¤×¨×•×™×§×˜ ××—×“-×œ××—×“**.
